<!doctype html>
<html ng-app="app">

	<head>
		<title>directive</title>
		<style type="text/css">

		</style>
		<script src="/learn-angular/app/bower_components/angular/angular.js"></script>
		<script src="/learn-angular/app/bower_components/jquery/dist/jquery.js"></script>
	</head>

	<body>

		<div ng-controller="TestCtrl"></div>
		<div id="a">A {{ text }}</div>
		<div id="b">B </div>

		<script>
			var app = angular.module('app', []);
			
			app.controller('TestCtrl', ['$scope', '$compile', function($scope, $compile) {
				var link = $compile($('#a'));
				
				//true参数表示新建一个完全隔离的scope,而不是继承的child scope
				var scope = $scope.$new(true);
				scope.text = '12345';
				
				//var node = link(scope, function(){});
				var node = link(scope);
				$('#b').append(node);
			}]);
			
			//cloneAttachFn 对节点的处理是有限制的，你可以添加 class ，但是不能做与数据绑定有关的其它修改（修改了也无效）
			//参见下一个实例
		</script>
	</body>

</html>